<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Living Space Studio</title>

    <style>
        :root {
            --bg: #ffffff;
            --text: #111111;
            --muted: #555555;
            --line: #e7e7e7;
            --max: 980px;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            background: var(--bg);
            color: var(--text);
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        }

        .wrap {
            max-width: 980px;
            margin: 0 auto;
            padding: 24px 20px 80px;
        }

        header {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 24px 0 34px;
            border-bottom: 1px solid var(--line);
            margin-bottom: 38px;
        }

        header img {
            max-width: 720px;
            width: min(720px, 92vw);
            height: auto;
            display: block;
        }

        h1 {
            font-size: 2rem;
            margin: 0 0 10px;
            letter-spacing: -0.02em;
        }

        p {
            margin: 0 0 14px;
            line-height: 1.55;
            color: var(--muted);
            font-size: 1.05rem;
        }

        .card {
            border: 1px solid var(--line);
            border-radius: 14px;
            padding: 22px 22px;
            margin: 18px 0;
            background: #fff;
        }

        .card h2 {
            margin: 0 0 10px;
            font-size: 1.25rem;
            color: var(--text);
            letter-spacing: -0.01em;
        }

        .price-line {
            font-size: 1.15rem;
            color: var(--text);
            margin: 8px 0 12px;
            font-weight: 700;
        }

        ul {
            margin: 10px 0 0 18px;
            padding: 0;
            color: var(--muted);
            line-height: 1.55;
            font-size: 1.03rem;
        }

        .note {
            margin-top: 14px;
            font-size: 0.98rem;
            color: var(--muted);
        }

        /* --- Concept Art Frame --- */
        .concept {
            margin-top: 70px;
        }

        .concept-frame {
            background: #ffffff;
            border-radius: 16px;
            padding: 28px;
            box-shadow:
                0 40px 80px rgba(0, 0, 0, 0.08),
                0 10px 30px rgba(0, 0, 0, 0.06);
        }

        .concept-frame img {
            width: 100%;
            display: block;
            border-radius: 10px;
        }

        .concept p {
            margin-top: 16px;
            max-width: 720px;
            color: var(--muted);
            font-size: 1.05rem;
        }

        /* Clickable image button */
        .concept-trigger {
            border: 0;
            padding: 0;
            margin: 0;
            background: transparent;
            width: 100%;
            display: block;
            cursor: pointer;
        }

        .concept-trigger:focus {
            outline: 2px solid #000;
            outline-offset: 4px;
            border-radius: 12px;
        }

        .footer {
            margin-top: 46px;
            padding-top: 20px;
            border-top: 1px solid var(--line);
            color: var(--muted);
            font-size: 0.98rem;
        }

        .footer a {
            color: inherit;
        }

        /* --- Fullscreen overlay (mobile-first) --- */
        .christmas-overlay {
            position: fixed;
            inset: 0;
            background: #000;
            display: none;
            z-index: 9999;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
        }

        .christmas-overlay.show {
            display: block;
        }

        .christmas-close {
            position: absolute;
            top: 14px;
            right: 14px;
            z-index: 10000;
            background: rgba(255, 255, 255, 0.12);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.22);
            padding: 10px 14px;
            border-radius: 999px;
            font-weight: 700;
            cursor: pointer;
            font-family: inherit;
        }

        .christmas-close:hover {
            background: rgba(255, 255, 255, 0.18);
        }

        /* --- Overlay Controls (Christmas-style) --- */
        .overlay-controls {
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 14px max(12px, env(safe-area-inset-left)) max(14px, env(safe-area-inset-bottom)) max(12px, env(safe-area-inset-right));
            z-index: 10001;
            display: none;
        }

        .overlay-controls.show {
            display: block;
        }

        .controls-panel {
            max-width: 980px;
            margin: 0 auto;
            background: rgba(10, 10, 10, 0.62);
            border: 1px solid rgba(255, 255, 255, 0.16);
            border-radius: 14px;
            padding: 10px 10px 12px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        .controls-row {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .btn {
            background: rgba(255, 255, 255, 0.10);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.20);
            padding: 9px 12px;
            border-radius: 999px;
            font-weight: 700;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.95rem;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.16);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .time {
            color: rgba(255, 255, 255, 0.88);
            font-weight: 700;
            font-size: 0.92rem;
            padding: 0 4px;
            min-width: 110px;
            text-align: center;
        }

        .slider {
            height: 34px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 0 6px;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .slider label {
            color: rgba(255, 255, 255, 0.88);
            font-weight: 700;
            font-size: 0.9rem;
        }

        input[type="range"] {
            width: 140px;
            accent-color: #ffffff;
        }

        .progress-wrap {
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .progress {
            flex: 1;
            width: 100%;
        }

        /* Hide controls a bit on tiny screens */
        @media (max-width: 420px) {
            input[type="range"] {
                width: 110px;
            }

            .time {
                min-width: 96px;
            }
        }
    </style>
</head>

<body>
    <div class="wrap">

        <header style="flex-direction: column;">
            <img src="assets/logo/logo.png" alt="Living Space Studio logo" />
        </header>

        <main>
            <h1>Pricing</h1>
            <p>
                We create full cartoon enactments of real-world spaces with animated “workers,” stationary “customers,”
                and custom theme songs that bring the environment to life.
            </p>

            <div class="card">
                <h2>Starting package</h2>
                <div class="price-line">$500</div>
                <p>
                    A shop with <strong>one “worker” animated</strong> and <strong>one “customer” stationary</strong>,
                    with a
                    <strong>full cartoon enactment of the store</strong> and a <strong>custom theme song</strong>.
                </p>
            </div>

            <div class="card">
                <h2>Add-ons</h2>
                <div class="price-line">+ $500 per additional worker</div>
                <p>
                    Each additional worker also includes:
                </p>
                <ul>
                    <li>An additional customer</li>
                    <li>An additional custom theme song</li>
                </ul>
                <p class="note">
                    There is <strong>no limit</strong> to the number of workers. The number of songs can vary depending
                    on the theme.
                </p>
            </div>

            <div class="card">
                <h2>What counts as a “worker”?</h2>
                <p>
                    A worker doesn’t have to be a person. A worker can be a <strong>product</strong>.
                    If your product is your business, we can feature your product as the worker.
                </p>
            </div>

            <section class="concept">
                <h2>Base model</h2>

                <div class="concept-frame">
                    <button class="concept-trigger concept-video-demo" type="button"
                        data-poster="assets/conceptart/bs1.png" data-video="assets/conceptart/bs1.mp4"
                        data-audio="assets/songs/bs1.mp3" aria-label="Play Base model video demo">
                        <img src="assets/conceptart/bs1.png" alt="Base model concept art">
                    </button>
                </div>
                <i>Click/tap to play Base Demo.</i>

                <p>
                    This is our base model.
                    A full cartoon enactment of the real space, featuring
                    <strong>one animated worker</strong> and a
                    <strong>stationary customer grouping</strong>.
                </p>

                <p>
                    This structure establishes the visual language of the store -
                    layout, tone, and atmosphere, and serves as the foundation
                    every larger build expands from.
                </p>
            </section>

            <section class="concept">
                <h2>Expanded model</h2>

                <div class="concept-frame">
                    <button class="concept-trigger concept-video-demo" type="button"
                        data-poster="assets/conceptart/ph1.png" data-video="assets/conceptart/ph1.mp4"
                        data-audio="assets/songs/ph1.mp3" aria-label="Play Expanded model video demo">
                        <img src="assets/conceptart/ph1.png" alt="Expanded model concept art">
                    </button>
                </div>
                <i>Click/tap to play Expanded Demo.</i>

                <p>
                    This is the expanded model.
                    A full cartoon enactment of the space featuring
                    <strong>two animated workers</strong> and
                    <strong>two stationary customer groupings</strong>.
                </p>

                <p>
                    Additional workers introduce more motion, personality, and rhythm
                    to the environment. Each added worker expands the narrative capacity
                    of the space while preserving calm and readability.
                </p>
            </section>

            <section class="concept">
                <h2>Scaled model (Live Demo)</h2>

                <div class="concept-frame">
                    <button class="concept-trigger" id="christmasTrigger" type="button"
                        aria-label="Open Christmas Bonus">
                        <img src="assets/conceptart/ch1.jpg" alt="Scaled model concept art">
                    </button>
                </div>
                <i>Click/tap the image to launch the live demo.</i>

                <p>
                    This is our live scaled model showing how far you can push our animations.
                    More workers, more motion, more scenes, more personality, and a bigger “living world” feel.
                </p>

                <p>
                    All tiers (including the base) come packaged with the same in-browser menu and interactive
                    experience.
                    The difference is scale: how many animated elements you want moving at once, and how deep you want
                    the scene to go.
                </p>
            </section>

            <div class="footer">
                <p>
                    Contact: livingspacestudioedm@gmail.com
                </p>
            </div>
        </main>

    </div>

    <!-- Fullscreen overlay player -->
    <div class="christmas-overlay" id="christmasOverlay" aria-hidden="true">
        <button class="christmas-close" id="christmasClose" type="button">Close</button>

        <!-- VIDEO (for bs1/ph1 video mode) -->
        <video id="demoVideo" playsinline preload="auto" style="
            position:absolute; inset:0;
            width:100%; height:100%;
            object-fit:contain;
            background:#000;
            display:none;
        "></video>

        <!-- Image (kept for future, currently unused) -->
        <img id="demoImage" alt="" style="
            position:absolute; inset:0;
            width:100%; height:100%;
            object-fit:contain;
            background:#000;
            display:none;
        ">

        <!-- Audio (used by video mode) -->
        <audio id="demoAudio" preload="auto"></audio>

        <!-- Keep iframe only for your Christmas live demo -->
        <iframe id="christmasFrame" src="about:blank" title="Christmas Bonus" allow="fullscreen; autoplay"
            allowfullscreen style="width:100%; height:100%; border:0; display:none; background:#000;"></iframe>

        <!-- Overlay Controls (shown for video, hidden for iframe) -->
        <div class="overlay-controls" id="overlayControls">
            <div class="controls-panel">
                <div class="controls-row">
                    <button class="btn" id="btnPlay" type="button">Play</button>
                    <button class="btn" id="btnRestart" type="button">Restart</button>
                    <button class="btn" id="btnMute" type="button">Mute</button>

                    <div class="slider">
                        <label for="vol">Vol</label>
                        <input id="vol" type="range" min="0" max="1" step="0.01" value="0.9" />
                    </div>

                    <div class="time" id="timeLabel">0:00 / 0:00</div>

                    <button class="btn" id="btnFS" type="button">Fullscreen</button>
                </div>

                <div class="progress-wrap">
                    <input class="progress" id="progress" type="range" min="0" max="1000" value="0" />
                </div>
            </div>
        </div>
    </div>

    <script>
        const christmasBtn = document.getElementById("christmasTrigger");
        const overlay = document.getElementById("christmasOverlay");
        const closeBtn = document.getElementById("christmasClose");
        const frame = document.getElementById("christmasFrame");

        const demoVideo = document.getElementById("demoVideo");
        const demoImage = document.getElementById("demoImage");
        const demoAudio = document.getElementById("demoAudio");

        const videoDemoButtons = document.querySelectorAll(".concept-video-demo");

        // Controls UI
        const overlayControls = document.getElementById("overlayControls");
        const btnPlay = document.getElementById("btnPlay");
        const btnRestart = document.getElementById("btnRestart");
        const btnMute = document.getElementById("btnMute");
        const btnFS = document.getElementById("btnFS");
        const vol = document.getElementById("vol");
        const progress = document.getElementById("progress");
        const timeLabel = document.getElementById("timeLabel");

        // Current mode: "none" | "image" | "video" | "iframe"
        let activeMode = "none";
        let lastTapTime = 0;
        let isScrubbing = false;
        let controlsHideTimer = null;
        let controlsPinned = false; // true while scrubbing/dragging sliders
        const CONTROLS_HIDE_MS = 2500;

        function isMobileish() {
            return window.matchMedia("(max-width: 900px)").matches ||
                (navigator.maxTouchPoints && navigator.maxTouchPoints > 0);
        }

        function requestFullscreen(el) {
            const req =
                el.requestFullscreen ||
                el.webkitRequestFullscreen ||
                el.mozRequestFullScreen ||
                el.msRequestFullscreen;
            if (req) { try { req.call(el); } catch (e) { } }
        }

        function exitFullscreen() {
            const exit =
                document.exitFullscreen ||
                document.webkitExitFullscreen ||
                document.mozCancelFullScreen ||
                document.msExitFullscreen;
            if (exit) { try { exit.call(document); } catch (e) { } }
        }

        function isFullscreen() {
            return !!(document.fullscreenElement ||
                document.webkitFullscreenElement ||
                document.mozFullScreenElement ||
                document.msFullscreenElement);
        }

        function openOverlay() {
            overlay.classList.add("show");
            overlay.setAttribute("aria-hidden", "false");
            document.body.style.overflow = "hidden";
            requestFullscreen(overlay);
        }

        function showControls(show) {
            if (activeMode === "iframe") {
                overlayControls.classList.remove("show");
                clearControlsTimer();
                return;
            }

            setControlsVisible(!!show);

            if (show) scheduleControlsHide();
            else clearControlsTimer();
        }

        function stopAllMedia() {
            // Stop audio
            demoAudio.pause();
            demoAudio.currentTime = 0;
            demoAudio.muted = false;
            demoAudio.removeAttribute("src");
            demoAudio.load();

            // Stop/hide video
            demoVideo.pause();
            demoVideo.currentTime = 0;
            demoVideo.muted = true; // keep it silent always (audio comes from mp3)
            demoVideo.removeAttribute("src");
            demoVideo.removeAttribute("poster");
            demoVideo.load();
            demoVideo.style.display = "none";

            // Hide/clear image
            demoImage.style.display = "none";
            demoImage.removeAttribute("src");
            demoImage.alt = "";

            // Stop iframe content
            frame.style.display = "none";
            frame.src = "about:blank";

            // Reset UI state
            activeMode = "none";
            showControls(false);
            btnPlay.textContent = "Play";
            btnMute.textContent = "Mute";
            timeLabel.textContent = "0:00 / 0:00";
            progress.value = 0;
            controlsPinned = false;
            clearControlsTimer();
        }

        function closeOverlay() {
            overlay.classList.remove("show");
            overlay.setAttribute("aria-hidden", "true");
            document.body.style.overflow = "";
            stopAllMedia();
            exitFullscreen();
        }

        // ===== Helpers for UI =====
        function fmtTime(sec) {
            if (!isFinite(sec) || sec < 0) sec = 0;
            const m = Math.floor(sec / 60);
            const s = Math.floor(sec % 60);
            return `${m}:${String(s).padStart(2, "0")}`;
        }

        function getDuration() {
            if (activeMode === "video") {
                return demoAudio.duration || 0;
            }
            return 0;
        }

        function getCurrentTime() {
            if (activeMode === "video") {
                return demoAudio.currentTime || 0;
            }
            return 0;
        }

        function setCurrentTime(t) {
            if (activeMode === "video") {
                demoAudio.currentTime = t;
                demoVideo.currentTime = t;
            }
        }

        function isPlaying() {
            if (activeMode === "video") {
                return !demoAudio.paused;
            }
            return false;
        }

        async function play() {
            if (activeMode === "video") {
                try {
                    demoVideo.muted = true;
                    await demoVideo.play();
                } catch (e) { /* ignore */ }

                try {
                    await demoAudio.play();
                } catch (e) {
                    console.log("Audio play blocked:", e);
                }
            }
        }

        function pause() {
            if (activeMode === "video") {
                demoAudio.pause();
                demoVideo.pause();
            }
        }

        function syncVideoToAudio() {
            if (activeMode !== "video") return;
            const a = demoAudio.currentTime || 0;
            const v = demoVideo.currentTime || 0;
            if (Math.abs(a - v) > 0.15) {
                demoVideo.currentTime = a;
            }
        }

        function setControlsVisible(visible) {
            if (activeMode === "iframe") return;
            if (visible) overlayControls.classList.add("show");
            else overlayControls.classList.remove("show");
        }

        function clearControlsTimer() {
            if (controlsHideTimer) {
                clearTimeout(controlsHideTimer);
                controlsHideTimer = null;
            }
        }

        function scheduleControlsHide() {
            clearControlsTimer();
            if (activeMode !== "video" || controlsPinned) return;

            if (!isPlaying()) {
                setControlsVisible(true);
                return;
            }

            controlsHideTimer = setTimeout(() => {
                setControlsVisible(false);
            }, CONTROLS_HIDE_MS);
        }

        function pokeControls() {
            if (activeMode === "iframe") return;
            setControlsVisible(true);
            scheduleControlsHide();
        }

        function updateUI() {
            if (activeMode !== "video") return;

            const dur = getDuration();
            const cur = getCurrentTime();

            timeLabel.textContent = `${fmtTime(cur)} / ${fmtTime(dur)}`;

            if (!isScrubbing && dur > 0) {
                progress.value = Math.round((cur / dur) * 1000);
            }

            btnPlay.textContent = isPlaying() ? "Pause" : "Play";
            btnMute.textContent = demoAudio.muted ? "Unmute" : "Mute";
        }

        function setVolumeFromSlider() {
            const v = parseFloat(vol.value);
            if (isFinite(v)) demoAudio.volume = v;
        }

        // ====== VIDEO + AUDIO MODE (bs1 + ph1) ======
        async function playVideoDemo(videoSrc, audioSrc, posterSrc) {
            stopAllMedia();
            activeMode = "video";
            openOverlay();

            if (posterSrc) demoVideo.poster = posterSrc;
            demoVideo.src = videoSrc;
            demoVideo.style.display = "block";
            demoVideo.muted = true;

            showControls(true);

            demoAudio.src = audioSrc;
            demoAudio.currentTime = 0;
            demoAudio.muted = false;
            setVolumeFromSlider();

            await play();
        }

        // Hook up ALL video demos (bs1 + ph1)
        videoDemoButtons.forEach(btn => {
            btn.addEventListener("click", () => {
                const poster = btn.getAttribute("data-poster");
                const video = btn.getAttribute("data-video");
                const audio = btn.getAttribute("data-audio");
                playVideoDemo(video, audio, poster);
            });
        });

        // ====== CHRISTMAS LIVE DEMO MODE (iframe) ======
        function openChristmasOverlay() {
            stopAllMedia();
            activeMode = "iframe";
            openOverlay();

            showControls(false);

            frame.style.display = "block";
            frame.src = "Christmas/";
        }

        christmasBtn.addEventListener("click", () => {
            if (isMobileish()) {
                openChristmasOverlay();
            } else {
                window.location.href = "Christmas/";
            }
        });

        // ===== Controls wiring =====
        btnPlay.addEventListener("click", () => {
            if (activeMode !== "video") return;
            if (isPlaying()) pause();
            else play();
            updateUI();
        });

        btnRestart.addEventListener("click", () => {
            if (activeMode !== "video") return;
            setCurrentTime(0);
            play();
        });

        btnMute.addEventListener("click", () => {
            if (activeMode !== "video") return;
            demoAudio.muted = !demoAudio.muted;
            updateUI();
        });

        vol.addEventListener("input", () => {
            if (activeMode !== "video") return;
            controlsPinned = true;
            pokeControls();
            setVolumeFromSlider();
        });
        vol.addEventListener("change", () => {
            if (activeMode !== "video") return;
            controlsPinned = false;
            pokeControls();
        });

        progress.addEventListener("change", () => {
            if (activeMode !== "video") return;

            const dur = getDuration();
            if (dur > 0) {
                const t = (parseInt(progress.value, 10) / 1000) * dur;
                setCurrentTime(t);
            }

            isScrubbing = false;
            controlsPinned = false;
            pokeControls();
            updateUI();
        });

        btnFS.addEventListener("click", () => {
            if (isFullscreen()) exitFullscreen();
            else requestFullscreen(overlay);
        });

        // Tap anywhere (not buttons/sliders) toggles play/pause.
        // Double tap toggles fullscreen.
        overlay.addEventListener("click", (e) => {
            const isUI = e.target.closest && (e.target.closest(".controls-panel") || e.target.closest(".christmas-close"));
            if (isUI) return;

            if (activeMode !== "video") return;

            const now = Date.now();
            const dt = now - lastTapTime;
            lastTapTime = now;

            if (dt < 280) {
                if (isFullscreen()) exitFullscreen();
                else requestFullscreen(overlay);
                return;
            }

            if (isPlaying()) pause();
            else play();
            updateUI();
        });

        demoAudio.addEventListener("timeupdate", () => {
            syncVideoToAudio();
            updateUI();
        });

        demoAudio.addEventListener("loadedmetadata", updateUI);
        demoAudio.addEventListener("durationchange", updateUI);
        demoAudio.addEventListener("play", () => { updateUI(); scheduleControlsHide(); });
        demoAudio.addEventListener("pause", () => { updateUI(); setControlsVisible(true); clearControlsTimer(); });
        demoAudio.addEventListener("ended", () => { pause(); updateUI(); setControlsVisible(true); clearControlsTimer(); });

        closeBtn.addEventListener("click", closeOverlay);

        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && overlay.classList.contains("show")) {
                closeOverlay();
            }
        });

        ["mousemove", "touchstart", "touchmove", "pointermove", "keydown"].forEach(evt => {
            overlay.addEventListener(evt, () => {
                if (activeMode === "video") pokeControls();
            }, { passive: true });
        });
    </script>

</body>

</html>